{"version":3,"file":"index.js","sources":["../src/js/main.js"],"sourcesContent":["// Gerekli kütüphaneleri içe aktar\nimport '/css/styles.css';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\n// Vite'de global değişken tanımlama\nwindow.global = window;\nglobal.SimpleLightbox = SimpleLightbox;\n\n// API anahtarı\nconst API_KEY = '49383609-3f4a245e58475bbde73d484d3';\n\n// Lightbox değişkenini global tanımla\nlet lightbox;\nconst loader = document.querySelector('.loader');\n\n// Sayfa yüklendiğinde çalıştır\ndocument.addEventListener('DOMContentLoaded', () => {\n  // Formu seç ve submit olayını dinle\n  document.querySelector('.form').addEventListener('submit', event => {\n    event.preventDefault(); // Sayfanın yenilenmesini engelle\n\n    // Arama terimini al\n    const query = document.getElementById('search').value.trim();\n\n    // Boşsa hata göster\n    if (query === '') {\n      iziToast.show({\n        title: 'Error',\n        message: 'Lütfen bir kelime girin!',\n        backgroundColor: '#FF6347',\n        color: 'white',\n      });\n      return;\n    }\n\n    // API'den görselleri çek\n    fetchImages(query);\n  });\n  debugger;\n  loader.style.display = 'none';\n});\n\n// API'den görselleri al ve galeriyi güncelle\nasync function fetchImages(query) {\n  try {\n    console.log(`API'ye istek yapılıyor: ${query}`);\n    loader.style.display = 'block';\n   \n    const response = await fetch(\n      `https://pixabay.com/api/?key=${API_KEY}&q=${encodeURIComponent(\n        query\n      )}&image_type=photo&orientation=horizontal&safesearch=true&per_page=20`,\n      { mode: 'cors' }\n    );\n\n    console.log('HTTP Durumu:', response.status);\n    if (!response.ok) {\n      throw new Error(`HTTP Hatası! Durum: ${response.status}`);\n    }\n\n    const data = await response.json();\n    console.log('Gelen Veri:', data);\n\n    if (data.hits.length === 0) {\n      iziToast.show({\n        title: 'Sorry!',\n        message: 'No images found. Please try again!',\n        backgroundColor: '#FF6347',\n        color: 'white',\n      });\n      return;\n    }\n\n    // Galeriye resimleri ekle\n    const gallery = document.getElementById('gallery-list');\n    gallery.innerHTML = data.hits\n      .map(\n        image => `\n        <div class=\"image-card\" >\n          <a href=\"${image.largeImageURL}\" target=\"_blank\" data-lightbox=\"gallery\">\n            <img src=\"${image.webformatURL}\" alt=\"${image.tags}\" >\n          </a>\n          \n          <div class=\"image-info\">\n            <div class=\"info-item\">\n                <p><strong>Likes: </strong>${image.likes}</p>\n              </div>\n            <div class=\"info-item\">\n              <p><strong>Views:</strong> ${image.views}</p>\n            </div>\n             <div class=\"info-item\">\n              <p><strong>Comments:</strong> ${image.comments}</p>\n            </div>\n              <div class=\"info-item\">\n              <p><strong>Downloads:</strong> ${image.downloads}</p>\n            </div>\n            </div>\n        </div>\n          \n        `\n      )\n      .join('');\n\n    // Lightbox kontrolü: varsa refresh, yoksa yeni oluştur\n    if (lightbox) {\n      lightbox.refresh();\n    } else {\n      lightbox = new SimpleLightbox('#gallery-list a', {\n        captions: true,\n        captionSelector: 'img',\n        captionType: 'attr',\n        overlayOpacity: 0.9,\n        fadeSpeed: 250,\n      });\n    }\n  } catch (error) {\n    console.error('Hata:', error);\n    iziToast.show({\n      title: 'Error',\n      message: 'Bir hata oluştu. Lütfen tekrar deneyin.',\n      backgroundColor: '#FF6347',\n      color: 'white',\n    });\n  } finally {\n    loader.style.display = 'none';\n  }\n}\n"],"names":["SimpleLightbox","API_KEY","lightbox","loader","event","query","iziToast","fetchImages","response","data","gallery","image","error"],"mappings":"6vBAQA,OAAO,OAAS,OAChB,OAAO,eAAiBA,EAGxB,MAAMC,EAAU,qCAGhB,IAAIC,EACJ,MAAMC,EAAS,SAAS,cAAc,SAAS,EAG/C,SAAS,iBAAiB,mBAAoB,IAAM,CAElD,SAAS,cAAc,OAAO,EAAE,iBAAiB,SAAUC,GAAS,CAClEA,EAAM,eAAc,EAGpB,MAAMC,EAAQ,SAAS,eAAe,QAAQ,EAAE,MAAM,OAGtD,GAAIA,IAAU,GAAI,CAChBC,EAAS,KAAK,CACZ,MAAO,QACP,QAAS,2BACT,gBAAiB,UACjB,MAAO,OACf,CAAO,EACD,MACD,CAGDC,EAAYF,CAAK,CACrB,CAAG,EACD,SACAF,EAAO,MAAM,QAAU,MACzB,CAAC,EAGD,eAAeI,EAAYF,EAAO,CAChC,GAAI,CACF,QAAQ,IAAI,2BAA2BA,CAAK,EAAE,EAC9CF,EAAO,MAAM,QAAU,QAEvB,MAAMK,EAAW,MAAM,MACrB,gCAAgCP,CAAO,MAAM,mBAC3CI,CACD,CAAA,uEACD,CAAE,KAAM,MAAQ,CACtB,EAGI,GADA,QAAQ,IAAI,eAAgBG,EAAS,MAAM,EACvC,CAACA,EAAS,GACZ,MAAM,IAAI,MAAM,uBAAuBA,EAAS,MAAM,EAAE,EAG1D,MAAMC,EAAO,MAAMD,EAAS,OAG5B,GAFA,QAAQ,IAAI,cAAeC,CAAI,EAE3BA,EAAK,KAAK,SAAW,EAAG,CAC1BH,EAAS,KAAK,CACZ,MAAO,SACP,QAAS,qCACT,gBAAiB,UACjB,MAAO,OACf,CAAO,EACD,MACD,CAGD,MAAMI,EAAU,SAAS,eAAe,cAAc,EACtDA,EAAQ,UAAYD,EAAK,KACtB,IACCE,GAAS;AAAA;AAAA,qBAEIA,EAAM,aAAa;AAAA,wBAChBA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA,6CAKjBA,EAAM,KAAK;AAAA;AAAA;AAAA,2CAGbA,EAAM,KAAK;AAAA;AAAA;AAAA,8CAGRA,EAAM,QAAQ;AAAA;AAAA;AAAA,+CAGbA,EAAM,SAAS;AAAA;AAAA;AAAA;AAAA;AAAA,SAMvD,EACA,KAAK,EAAE,EAGNT,EACFA,EAAS,QAAO,EAEhBA,EAAW,IAAIF,EAAe,kBAAmB,CAC/C,SAAU,GACV,gBAAiB,MACjB,YAAa,OACb,eAAgB,GAChB,UAAW,GACnB,CAAO,CAEJ,OAAQY,EAAO,CACd,QAAQ,MAAM,QAASA,CAAK,EAC5BN,EAAS,KAAK,CACZ,MAAO,QACP,QAAS,0CACT,gBAAiB,UACjB,MAAO,OACb,CAAK,CACL,QAAY,CACRH,EAAO,MAAM,QAAU,MACxB,CACH"}